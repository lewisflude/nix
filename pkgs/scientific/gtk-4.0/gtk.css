/*
 * Scientific GTK Theme - GTK 4.0
 * Dark theme with perceptually uniform OKLCH colors
 */

/* Color Definitions */
@define-color window_bg_color #1e1f26;
@define-color window_fg_color #c0c3d1;
@define-color view_bg_color #1e1f26;
@define-color view_fg_color #c0c3d1;
@define-color headerbar_bg_color #2d2e39;
@define-color headerbar_fg_color #c0c3d1;
@define-color headerbar_border_color #454759;
@define-color card_bg_color #2d2e39;
@define-color card_fg_color #c0c3d1;
@define-color dialog_bg_color #2d2e39;
@define-color dialog_fg_color #c0c3d1;
@define-color popover_bg_color #2d2e39;
@define-color popover_fg_color #c0c3d1;
@define-color accent_bg_color #5a7dcf;
@define-color accent_fg_color #ffffff;
@define-color accent_color #5a7dcf;
@define-color destructive_bg_color #d9574a;
@define-color destructive_fg_color #ffffff;
@define-color destructive_color #d9574a;
@define-color success_bg_color #4db368;
@define-color success_fg_color #ffffff;
@define-color success_color #4db368;
@define-color warning_bg_color #c9a93a;
@define-color warning_fg_color #ffffff;
@define-color warning_color #c9a93a;
@define-color error_bg_color #d9574a;
@define-color error_fg_color #ffffff;
@define-color error_color #d9574a;
@define-color sidebar_bg_color #2d2e39;
@define-color sidebar_fg_color #c0c3d1;
@define-color sidebar_border_color #454759;
@define-color secondary_sidebar_bg_color #1e1f26;
@define-color secondary_sidebar_fg_color #c0c3d1;

/* Additional scientific palette colors */
@define-color borders #454759;
@define-color special_color #a368cf;
@define-color special_dim_color #7d49a3;
@define-color focus_color #5a7dcf;
@define-color focus_dim_color #3a5da3;
@define-color divider_color #454759;
@define-color divider_subtle_color #353642;
@define-color text_secondary_color #9498ab;
@define-color text_tertiary_color #6b6f82;

/* Window Base */
window {
    background-color: @window_bg_color;
    color: @window_fg_color;
}

window.csd {
    border-radius: 8px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
}

/* Headers */
headerbar {
    background-color: @headerbar_bg_color;
    color: @headerbar_fg_color;
    border-bottom: 1px solid @headerbar_border_color;
    min-height: 46px;
    padding: 0 6px;
}

headerbar windowhandle {
    padding: 0;
}

headerbar button {
    border: none;
    background-color: transparent;
    border-radius: 6px;
    padding: 6px 12px;
}

headerbar button:hover {
    background-color: alpha(@accent_color, 0.15);
}

headerbar button:active {
    background-color: @focus_dim_color;
}

/* Buttons */
button {
    background-color: @card_bg_color;
    color: @window_fg_color;
    border: 1px solid @borders;
    border-radius: 6px;
    padding: 6px 12px;
    min-height: 32px;
    min-width: 16px;
}

button:hover {
    background-color: @divider_color;
    border-color: @focus_dim_color;
}

button:active {
    background-color: @focus_dim_color;
    border-color: @focus_color;
}

button:disabled {
    background-color: @card_bg_color;
    color: @text_tertiary_color;
    opacity: 0.5;
}

/* Suggested/Accent Buttons */
button.suggested-action {
    background-color: @accent_bg_color;
    color: @accent_fg_color;
    border-color: @accent_bg_color;
}

button.suggested-action:hover {
    background-color: @focus_dim_color;
}

button.suggested-action:active {
    background-color: @focus_dim_color;
    opacity: 0.9;
}

button.destructive-action {
    background-color: @destructive_bg_color;
    color: @destructive_fg_color;
    border-color: @destructive_bg_color;
}

/* Entries (Text Inputs) */
entry {
    background-color: @view_bg_color;
    color: @view_fg_color;
    border: 1px solid @borders;
    border-radius: 6px;
    padding: 6px 10px;
    min-height: 32px;
}

entry:focus {
    border-color: @focus_color;
    outline: 1px solid @focus_color;
    outline-offset: -1px;
}

entry:disabled {
    background-color: @card_bg_color;
    color: @text_tertiary_color;
    opacity: 0.5;
}

/* Checkboxes */
checkbutton check {
    background-color: @view_bg_color;
    border: 1px solid @borders;
    border-radius: 3px;
    min-width: 16px;
    min-height: 16px;
}

checkbutton:checked check {
    background-color: @accent_bg_color;
    border-color: @accent_bg_color;
    color: @accent_fg_color;
}

checkbutton:hover check {
    border-color: @focus_color;
}

/* Radio Buttons */
checkbutton.radio check {
    border-radius: 50%;
}

/* Switches */
switch {
    background-color: @card_bg_color;
    border: 1px solid @borders;
    border-radius: 12px;
    min-width: 52px;
    min-height: 26px;
}

switch:checked {
    background-color: @accent_bg_color;
    border-color: @accent_bg_color;
}

switch slider {
    background-color: @window_fg_color;
    border-radius: 50%;
    min-width: 20px;
    min-height: 20px;
    margin: 2px;
}

/* Scales (Sliders) */
scale {
    min-height: 2px;
}

scale trough {
    background-color: @card_bg_color;
    border: 1px solid @borders;
    border-radius: 3px;
    min-height: 6px;
}

scale slider {
    background-color: @accent_bg_color;
    border: 2px solid @accent_bg_color;
    border-radius: 50%;
    min-width: 18px;
    min-height: 18px;
    margin: -6px;
}

scale slider:hover {
    background-color: @focus_dim_color;
    border-color: @focus_dim_color;
}

scale:disabled slider {
    background-color: @text_tertiary_color;
    border-color: @text_tertiary_color;
}

/* Progress Bars */
progressbar {
    background-color: @card_bg_color;
    border-radius: 3px;
    min-height: 6px;
}

progressbar progress {
    background-color: @accent_bg_color;
    border-radius: 3px;
}

progressbar trough {
    background-color: @card_bg_color;
    border-radius: 3px;
}

/* Level Bars */
levelbar trough {
    background-color: @card_bg_color;
    border: 1px solid @borders;
    border-radius: 3px;
    padding: 2px;
}

levelbar block.filled {
    background-color: @accent_bg_color;
    border-radius: 2px;
}

levelbar block.low {
    background-color: @warning_color;
}

levelbar block.high,
levelbar block.full {
    background-color: @success_color;
}

/* Scrollbars */
scrollbar {
    background-color: transparent;
}

scrollbar slider {
    background-color: alpha(@text_secondary_color, 0.5);
    border-radius: 10px;
    min-width: 8px;
    min-height: 40px;
    margin: 2px;
}

scrollbar slider:hover {
    background-color: @text_secondary_color;
}

scrollbar slider:active {
    background-color: @focus_color;
}

scrollbar.horizontal slider {
    min-width: 40px;
    min-height: 8px;
}

/* Notebooks (Tabs) */
notebook {
    background-color: @window_bg_color;
}

notebook header {
    background-color: @card_bg_color;
    border-bottom: 1px solid @borders;
    padding: 2px;
}

notebook header tab {
    background-color: transparent;
    color: @text_secondary_color;
    border: none;
    border-radius: 6px 6px 0 0;
    padding: 8px 16px;
    min-height: 32px;
}

notebook header tab:hover {
    background-color: alpha(@focus_color, 0.1);
    color: @window_fg_color;
}

notebook header tab:checked {
    background-color: @window_bg_color;
    color: @accent_color;
    border-bottom: 2px solid @accent_color;
}

/* Lists and ListViews */
list,
listview {
    background-color: @view_bg_color;
    color: @view_fg_color;
    border: 1px solid @borders;
    border-radius: 6px;
}

list row,
listview row {
    padding: 8px;
    border-radius: 3px;
}

list row:hover,
listview row:hover {
    background-color: alpha(@focus_color, 0.1);
}

list row:selected,
listview row:selected {
    background-color: @focus_dim_color;
    color: @accent_fg_color;
}

/* Menus and Popovers */
popover {
    background-color: @popover_bg_color;
    color: @popover_fg_color;
    border: 1px solid @borders;
    border-radius: 8px;
    padding: 6px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
}

popover.menu {
    padding: 4px;
}

popover modelbutton {
    padding: 6px 12px;
    border-radius: 4px;
}

popover modelbutton:hover {
    background-color: @focus_dim_color;
    color: @accent_fg_color;
}

/* Separators */
separator {
    background-color: @borders;
    min-width: 1px;
    min-height: 1px;
}

separator.horizontal {
    min-height: 1px;
}

separator.vertical {
    min-width: 1px;
}

/* Sidebars */
.sidebar {
    background-color: @sidebar_bg_color;
    color: @sidebar_fg_color;
    border-right: 1px solid @sidebar_border_color;
}

.sidebar row {
    padding: 8px 12px;
}

.sidebar row:hover {
    background-color: alpha(@focus_color, 0.1);
}

.sidebar row:selected {
    background-color: @focus_dim_color;
    color: @accent_fg_color;
}

/* Cards */
.card {
    background-color: @card_bg_color;
    color: @card_fg_color;
    border: 1px solid @borders;
    border-radius: 8px;
    padding: 12px;
}

/* Tooltips */
tooltip {
    background-color: @popover_bg_color;
    color: @popover_fg_color;
    border: 1px solid @focus_color;
    border-radius: 6px;
    padding: 6px 10px;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.4);
}

tooltip label {
    padding: 0;
}

/* Message Dialogs */
messagedialog {
    background-color: @dialog_bg_color;
    color: @dialog_fg_color;
}

messagedialog .dialog-action-area {
    padding: 12px;
    border-top: 1px solid @borders;
}

/* Spinners */
spinner {
    color: @accent_color;
}

/* Text Selection */
selection {
    background-color: @accent_bg_color;
    color: @accent_fg_color;
}

/* Links */
link {
    color: @focus_color;
}

link:visited {
    color: @special_color;
}

link:hover {
    color: @focus_dim_color;
}

/* Accent Color Variants */
.accent {
    background-color: @accent_bg_color;
    color: @accent_fg_color;
}

.success {
    background-color: @success_bg_color;
    color: @success_fg_color;
}

.warning {
    background-color: @warning_bg_color;
    color: @warning_fg_color;
}

.error {
    background-color: @error_bg_color;
    color: @error_fg_color;
}
